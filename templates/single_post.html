{% extends '_template.html' %}

{% block body %}
        <div class="card border-dark">
            <div class="d-flex flex-column mx-4 mt-3">
                <video class="" width="100%" height="680" controls>
                    <source src="{{distribution_url}}videos/{{post.video_id}}.mp4">
                </video>

                <h1 class="d-flex">{{post.title}}</h1>
                <p class="d-flex">posted on {{post.date_posted}}</p>
                <h3>{{post.msg}}</h3>
            </div>
        </div>


        <div class="card"  style="width: 100%;">
            <div class="mx-4">
                <h1 class="align-content-start mt-6">{{comments|length}} Comments</h1>
                <form action="{{url_for('post_comment_iso', post_id=post.id )}}" method="post">
                    <h3>leave a comment</h3>
                    <textarea style="width: 80%; height: 20%;" id="comment" name="comment"></textarea>
                    <br>
                    <button class="btn btn-success" style="width: 10%;" type="submit">Post</button>
                </form>
                <hr>
                <div class="d-flex flex-column mt-2">
                    {% if comments|length == 0 %}
                        <p class="mt-3" style="text-align: center;">No comments, be first to drop a comment!</p> 
                    {% else %}
                        {% for comment in comments %}
                            <p>{{UserTable.query.get(comment.user_id).user_name}}: {{comment.message}}</p>
                        {% endfor %}
                    {% endif %}
                    
                </div> 
            </div>
        </div>

          
{% endblock %}